#include "common.h"
#include "libdg/libdg.h"
#include "anime/animconv/anime.h"
#include "strcode.h"

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D291C[] = {
    0x00,0x15,0x01,0x00, 0x05,0x01,0xfe,0x0c,
    0x00,0x0a,0x0a,0x00, 0xc8,0x00,0xc8,0x01,
    0xff,0x08,0xe7,0xe7, 0xe7,0x02,0x00,0x01,
    0x0d,0x0f
};

static ANIMATION d16e_dword_800C3520 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    3,                          // field_C
    4000,                       // field_E_xw
    4000,                       // field_10_yh
    255,                        // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D291C // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2938[] = {
    0x00,0x15,0x01,0x00, 0x05,0x01,0xfe,0x0c,
    0x00,0x07,0x0a,0x00, 0xc8,0x00,0xc8,0x01,
    0xff,0x08,0xfc,0xfc, 0xfc,0x02,0x00,0x01,
    0x0d,0x0f
};

static ANIMATION d16e_dword_800C353C = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    3,                          // field_C
    3000,                       // field_E_xw
    3000,                       // field_10_yh
    32,                         // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2938 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2954[] = {
    0x00,0x3a,0x01,0x00, 0x05,0x01,0xfe,0x0c,
    0x00,0x07,0x04,0x00, 0x00,0x00,0x96,0x00,
    0x00,0x0a,0x01,0x2c, 0x01,0x2c,0x02,0x00,
    0x01,0x04,0x00,0x00, 0x00,0x96,0x00,0x00,
    0x0a,0x01,0x2c,0x01, 0x2c,0x02,0x00,0x01,
    0x04,0x00,0x00,0x00, 0x96,0x00,0x00,0x0a,
    0x01,0x2c,0x01,0x2c, 0x01,0xff,0x08,0xf0,
    0xf0,0xf0,0x02,0x00, 0x01,0x0d,0x0f
};

static ANIMATION d16e_dword_800C3558 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    2,                          // field_C
    1500,                       // field_E_xw
    1500,                       // field_10_yh
    128,                        // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2954 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2994[] = {
    0x00,0xa7,0x04,0x00, 0x0b,0x00,0x31,0x00,
    0x5c,0x00,0x87,0x01, 0xfe,0x0c,0x00,0x07,
    0x02,0x00,0x01,0x0a, 0x00,0x32,0x00,0x32,
    0x01,0xff,0x02,0x00, 0x01,0x0d,0x0c,0x00,
    0x07,0x01,0xff,0x02, 0x00,0x01,0x01,0xff,
    0x08,0xff,0xff,0xff, 0x02,0x00,0x01,0x0d,
    0x0f,0x0a,0x01,0xf4, 0x01,0xf4,0x01,0xfe,
    0x0c,0x00,0x07,0x02, 0x00,0x01,0x0a,0x00,
    0x64,0x00,0x64,0x01, 0xff,0x02,0x00,0x01,
    0x0d,0x0c,0x00,0x07, 0x01,0xff,0x02,0x00,
    0x01,0x01,0xff,0x08, 0xff,0xff,0xff,0x02,
    0x00,0x01,0x0d,0x0f, 0x0a,0x03,0xe8,0x03,
    0xe8,0x01,0xfe,0x0c, 0x00,0x07,0x02,0x00,
    0x01,0x0a,0x00,0xc8, 0x00,0x64,0x01,0xff,
    0x02,0x00,0x01,0x0d, 0x0c,0x00,0x07,0x01,
    0xff,0x02,0x00,0x01, 0x01,0xff,0x08,0xff,
    0xff,0xff,0x02,0x00, 0x01,0x0d,0x0f,0x0a,
    0x07,0xd0,0x07,0xd0, 0x01,0xfe,0x0c,0x00,
    0x07,0x02,0x00,0x01, 0x0a,0x01,0x90,0x01,
    0x90,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x07,0x01,0xff, 0x02,0x00,0x01,0x01,
    0xff,0x08,0xff,0xff, 0xff,0x02,0x00,0x01,
    0x0d,0x0f
};

static ANIMATION d16e_dword_800C3574 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    2,                          // field_C
    500,                        // field_E_xw
    500,                        // field_10_yh
    8,                          // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2994 // field_18_ptr
};
static ANIMATION d16e_dword_800C3590 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    2,                          // field_C
    500,                        // field_E_xw
    500,                        // field_10_yh
    16,                         // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2994 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2A48[] = {
    0x00,0x3a,0x01,0x00, 0x05,0x01,0xfe,0x0c,
    0x00,0x07,0x04,0x00, 0x00,0x00,0x96,0x00,
    0x00,0x0a,0x01,0x2c, 0x01,0x2c,0x02,0x00,
    0x01,0x04,0x00,0x00, 0x00,0x96,0x00,0x00,
    0x0a,0x01,0x2c,0x01, 0x2c,0x02,0x00,0x01,
    0x04,0x00,0x00,0x00, 0x96,0x00,0x00,0x0a,
    0x01,0x2c,0x01,0x2c, 0x01,0xff,0x08,0xfc,
    0xfc,0xfc,0x02,0x00, 0x01,0x0d,0x0f
};

static ANIMATION d16e_dword_800C35AC = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    3000,                       // field_A
    2,                          // field_C
    1000,                       // field_E_xw
    1000,                       // field_10_yh
    32,                         // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2A48 // field_18_ptr
};
static ANIMATION d16e_dword_800C35C8 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    3000,                       // field_A
    2,                          // field_C
    1000,                       // field_E_xw
    1000,                       // field_10_yh
    32,                         // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2A48 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2A88[] = {
    0x00,0xab,0x04,0x00, 0x0b,0x00,0x32,0x00,
    0x5e,0x00,0x8a,0x01, 0xfe,0x0c,0x00,0x0f,
    0x0a,0x00,0x32,0x00, 0x32,0x01,0xff,0x02,
    0x00,0x01,0x0d,0x0c, 0x00,0x1e,0x01,0xff,
    0x02,0x00,0x01,0x0d, 0x0c,0x00,0x0f,0x01,
    0xff,0x08,0xf0,0xf0, 0xf0,0x02,0x00,0x01,
    0x0d,0x0f,0x0a,0x00, 0xfa,0x00,0xfa,0x01,
    0xfe,0x0c,0x00,0x0f, 0x0a,0x00,0x46,0x00,
    0x46,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x1e,0x01,0xff, 0x02,0x00,0x01,0x0d,
    0x0c,0x00,0x0f,0x01, 0xff,0x08,0xf0,0xf0,
    0xf0,0x02,0x00,0x01, 0x0d,0x0f,0x0a,0x01,
    0xf4,0x01,0xf4,0x01, 0xfe,0x0c,0x00,0x0f,
    0x0a,0x00,0x5a,0x00, 0x5a,0x01,0xff,0x02,
    0x00,0x01,0x0d,0x0c, 0x00,0x1e,0x01,0xff,
    0x02,0x00,0x01,0x0d, 0x0c,0x00,0x0f,0x01,
    0xff,0x08,0xf0,0xf0, 0xf0,0x02,0x00,0x01,
    0x0d,0x0f,0x0a,0x02, 0xee,0x02,0xee,0x01,
    0xfe,0x0c,0x00,0x0f, 0x0a,0x00,0x6e,0x00,
    0x6e,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x1e,0x01,0xff, 0x02,0x00,0x01,0x0d,
    0x0c,0x00,0x0f,0x01, 0xff,0x08,0xf0,0xf0,
    0xf0,0x02,0x00,0x01, 0x0d,0x0f
};

static ANIMATION d16e_dword_800C35E4 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    3,                          // field_C
    500,                        // field_E_xw
    500,                        // field_10_yh
    255,                        // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2A88 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2B40[] = {
    0x00,0xab,0x04,0x00, 0x0b,0x00,0x32,0x00,
    0x5e,0x00,0x8a,0x01, 0xfe,0x0c,0x00,0x0f,
    0x0a,0x00,0x32,0x00, 0x32,0x01,0xff,0x02,
    0x00,0x01,0x0d,0x0c, 0x00,0x1e,0x01,0xff,
    0x02,0x00,0x01,0x0d, 0x0c,0x00,0x0f,0x01,
    0xff,0x08,0xff,0xff, 0xff,0x02,0x00,0x01,
    0x0d,0x0f,0x0a,0x00, 0xfa,0x00,0xfa,0x01,
    0xfe,0x0c,0x00,0x0f, 0x0a,0x00,0x46,0x00,
    0x46,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x1e,0x01,0xff, 0x02,0x00,0x01,0x0d,
    0x0c,0x00,0x0f,0x01, 0xff,0x08,0xff,0xff,
    0xff,0x02,0x00,0x01, 0x0d,0x0f,0x0a,0x01,
    0xf4,0x01,0xf4,0x01, 0xfe,0x0c,0x00,0x0f,
    0x0a,0x00,0x5a,0x00, 0x5a,0x01,0xff,0x02,
    0x00,0x01,0x0d,0x0c, 0x00,0x1e,0x01,0xff,
    0x02,0x00,0x01,0x0d, 0x0c,0x00,0x0f,0x01,
    0xff,0x08,0xff,0xff, 0xff,0x02,0x00,0x01,
    0x0d,0x0f,0x0a,0x02, 0xee,0x02,0xee,0x01,
    0xfe,0x0c,0x00,0x0f, 0x0a,0x00,0x6e,0x00,
    0x6e,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x1e,0x01,0xff, 0x02,0x00,0x01,0x0d,
    0x0c,0x00,0x0f,0x01, 0xff,0x08,0xff,0xff,
    0xff,0x02,0x00,0x01, 0x0d,0x0f
};

static ANIMATION d16e_dword_800C3600 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    2,                          // field_C
    500,                        // field_E_xw
    500,                        // field_10_yh
    16,                         // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2B40 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2BF8[] = {
    0x00,0xbb,0x04,0x00, 0x0b,0x00,0x36,0x00,
    0x66,0x00,0x96,0x08, 0xff,0xff,0xff,0x01,
    0xfe,0x0c,0x00,0x0f, 0x0a,0x00,0x32,0x00,
    0x32,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x1e,0x01,0xff, 0x02,0x00,0x01,0x0d,
    0x0c,0x00,0x0f,0x01, 0xff,0x08,0xf0,0xf0,
    0xf0,0x02,0x00,0x01, 0x0d,0x0f,0x08,0xff,
    0xff,0xff,0x0a,0x00, 0xfa,0x00,0xfa,0x01,
    0xfe,0x0c,0x00,0x0f, 0x0a,0x00,0x46,0x00,
    0x46,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x1e,0x01,0xff, 0x02,0x00,0x01,0x0d,
    0x0c,0x00,0x0f,0x01, 0xff,0x08,0xf0,0xf0,
    0xf0,0x02,0x00,0x01, 0x0d,0x0f,0x08,0xff,
    0xff,0xff,0x0a,0x01, 0xf4,0x01,0xf4,0x01,
    0xfe,0x0c,0x00,0x0f, 0x0a,0x00,0x5a,0x00,
    0x5a,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x1e,0x01,0xff, 0x02,0x00,0x01,0x0d,
    0x0c,0x00,0x0f,0x01, 0xff,0x08,0xf0,0xf0,
    0xf0,0x02,0x00,0x01, 0x0d,0x0f,0x08,0xff,
    0xff,0xff,0x0a,0x02, 0xee,0x02,0xee,0x01,
    0xfe,0x0c,0x00,0x0f, 0x0a,0x00,0x6e,0x00,
    0x6e,0x01,0xff,0x02, 0x00,0x01,0x0d,0x0c,
    0x00,0x1e,0x01,0xff, 0x02,0x00,0x01,0x0d,
    0x0c,0x00,0x0f,0x01, 0xff,0x08,0xf0,0xf0,
    0xf0,0x02,0x00,0x01, 0x0d,0x0f
};

static ANIMATION d16e_dword_800C361C = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    3,                          // field_C
    500,                        // field_E_xw
    500,                        // field_10_yh
    0,                          // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2BF8 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2CC0[] = {
    0x00,0x87,0x04,0x00, 0x0b,0x00,0x29,0x00,
    0x4c,0x00,0x6f,0x01, 0xfe,0x0c,0x00,0x07,
    0x0a,0x00,0x64,0x00, 0x64,0x01,0xff,0x02,
    0x00,0x01,0x0d,0x0c, 0x00,0x03,0x01,0xff,
    0x08,0xc0,0xc0,0xc0, 0x02,0x00,0x01,0x0d,
    0x0f,0x0a,0x00,0xfa, 0x00,0xfa,0x01,0xfe,
    0x0c,0x00,0x07,0x0a, 0x00,0x96,0x00,0x96,
    0x01,0xff,0x02,0x00, 0x01,0x0d,0x0c,0x00,
    0x03,0x01,0xff,0x08, 0xc0,0xc0,0xc0,0x02,
    0x00,0x01,0x0d,0x0f, 0x0a,0x01,0xf4,0x01,
    0xf4,0x01,0xfe,0x0c, 0x00,0x07,0x0a,0x00,
    0xc8,0x00,0xc8,0x01, 0xff,0x02,0x00,0x01,
    0x0d,0x0c,0x00,0x03, 0x01,0xff,0x08,0xc0,
    0xc0,0xc0,0x02,0x00, 0x01,0x0d,0x0f,0x0a,
    0x02,0xee,0x02,0xee, 0x01,0xfe,0x0c,0x00,
    0x07,0x0a,0x00,0xfa, 0x00,0xfa,0x01,0xff,
    0x02,0x00,0x01,0x0d, 0x0c,0x00,0x03,0x01,
    0xff,0x08,0xc0,0xc0, 0xc0,0x02,0x00,0x01,
    0x0d,0x0f
};

static ANIMATION d16e_dword_800C3638 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    3,                          // field_C
    500,                        // field_E_xw
    500,                        // field_10_yh
    255,                        // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2CC0 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2D54[] = {
    0x00,0x87,0x04,0x00, 0x0b,0x00,0x29,0x00,
    0x4c,0x00,0x6f,0x01, 0xfe,0x0c,0x00,0x07,
    0x0a,0x00,0x64,0x00, 0x64,0x01,0xff,0x02,
    0x00,0x01,0x0d,0x0c, 0x00,0x03,0x01,0xff,
    0x08,0xfc,0xfc,0xfc, 0x02,0x00,0x01,0x0d,
    0x0f,0x0a,0x00,0xfa, 0x00,0xfa,0x01,0xfe,
    0x0c,0x00,0x07,0x0a, 0x00,0x96,0x00,0x96,
    0x01,0xff,0x02,0x00, 0x01,0x0d,0x0c,0x00,
    0x03,0x01,0xff,0x08, 0xfc,0xfc,0xfc,0x02,
    0x00,0x01,0x0d,0x0f, 0x0a,0x01,0xf4,0x01,
    0xf4,0x01,0xfe,0x0c, 0x00,0x07,0x0a,0x00,
    0xc8,0x00,0xc8,0x01, 0xff,0x02,0x00,0x01,
    0x0d,0x0c,0x00,0x03, 0x01,0xff,0x08,0xfc,
    0xfc,0xfc,0x02,0x00, 0x01,0x0d,0x0f,0x0a,
    0x02,0xee,0x02,0xee, 0x01,0xfe,0x0c,0x00,
    0x07,0x0a,0x00,0xfa, 0x00,0xfa,0x01,0xff,
    0x02,0x00,0x01,0x0d, 0x0c,0x00,0x03,0x01,
    0xff,0x08,0xfc,0xfc, 0xfc,0x02,0x00,0x01,
    0x0d,0x0f
};

static ANIMATION d16e_dword_800C3654 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    2,                          // field_C
    500,                        // field_E_xw
    500,                        // field_10_yh
    16,                         // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2D54 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

static const char d16e_dword_800D2DE8[] = {
    0x00,0x2a,0x01,0x00, 0x05,0x01,0xfe,0x0c,
    0x00,0x02,0x02,0x00, 0x01,0x0d,0x0a,0x03,
    0xe8,0x03,0xe8,0x0c, 0x00,0x07,0x0a,0x00,
    0x64,0x00,0x64,0x01, 0xff,0x02,0x00,0x01,
    0x0d,0x0c,0x00,0x03, 0x01,0xff,0x08,0xc0,
    0xc0,0xc0,0x02,0x00, 0x01,0x0d,0x0f
};

static ANIMATION d16e_dword_800C3670 = {
    PCX_SMOKE,                  // field_0_texture_hash
    8,                          // field_2
    4,                          // field_4
    30,                         // n_anims
    1,                          // n_vertices
    1000,                       // field_A
    3,                          // field_C
    1,                          // field_E_xw
    1,                          // field_10_yh
    255,                        // field_12_rgb
    NULL,                       // pre_script
    (char *)d16e_dword_800D2DE8 // field_18_ptr
};

/*---------------------------------------------------------------------------*/

void AN_Smoke_800CE08C(SVECTOR *pos)
{
    PRESCRIPT  pre;
    ANIMATION *anm;

    memset(&pre, 0, sizeof(PRESCRIPT));
    pre.pos = *pos;

    anm = &d16e_dword_800C3520;
    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);
}

void AN_Smoke_800CE0F8(SVECTOR *pos)
{
    PRESCRIPT  pre;
    ANIMATION *anm;

    memset(&pre, 0, sizeof(PRESCRIPT));
    pre.pos = *pos;

    anm = &d16e_dword_800C3558;
    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);
}

void AN_Smoke_800CE164(SVECTOR *pos, SVECTOR *speed, int index, int script)
{
    PRESCRIPT  pre;
    ANIMATION *anm;

    memset(&pre, 0, sizeof(PRESCRIPT));
    pre.pos = *pos;
    pre.speed = *speed;
    pre.scr_num = script;

    anm = NULL;

    switch (index)
    {
    case 0:
        anm = &d16e_dword_800C3574;
        break;

    case 1:
        anm = &d16e_dword_800C3590;
        break;
    }

    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);
}

void AN_Smoke_800CE240(SVECTOR *pos)
{
    PRESCRIPT  pre;
    ANIMATION *anm;

    memset(&pre, 0, sizeof(PRESCRIPT));
    pre.pos = *pos;

    anm = &d16e_dword_800C35AC;
    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);

    anm = &d16e_dword_800C353C;
    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);
}

void AN_Smoke_800CE2C4(SVECTOR *pos, SVECTOR *speed, int index, int script, char r, char g, char b)
{
    PRESCRIPT  pre;
    ANIMATION *anm;

    memset(&pre, 0, sizeof(PRESCRIPT));
    pre.pos = *pos;
    pre.speed = *speed;
    pre.scr_num = script;

    anm = NULL;

    switch (index)
    {
    case 0:
        anm = &d16e_dword_800C35E4;
        break;

    case 1:
        anm = &d16e_dword_800C3600;
        break;

    case 2:
        anm = &d16e_dword_800C361C;

        anm->field_18_ptr[12] = r;
        anm->field_18_ptr[13] = g;
        anm->field_18_ptr[14] = b;

        anm->field_18_ptr[55] = r;
        anm->field_18_ptr[56] = g;
        anm->field_18_ptr[57] = b;

        anm->field_18_ptr[108] = r;
        anm->field_18_ptr[109] = g;
        anm->field_18_ptr[110] = b;

        anm->field_18_ptr[151] = r;
        anm->field_18_ptr[152] = g;
        anm->field_18_ptr[153] = b;

        r = -((r - 1) / 15);
        g = -((g - 1) / 15);
        b = -((b - 1) / 15);

        anm->field_18_ptr[46] = r;
        anm->field_18_ptr[47] = g;
        anm->field_18_ptr[48] = b;

        anm->field_18_ptr[94] = r;
        anm->field_18_ptr[95] = g;
        anm->field_18_ptr[96] = b;

        anm->field_18_ptr[142] = r;
        anm->field_18_ptr[143] = g;
        anm->field_18_ptr[144] = b;

        anm->field_18_ptr[190] = r;
        anm->field_18_ptr[191] = g;
        anm->field_18_ptr[192] = b;
        break;
    }

    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);
}

void AN_Smoke_800CE55C(SVECTOR *pos)
{
    PRESCRIPT  pre;
    ANIMATION *anm;

    memset(&pre, 0, sizeof(PRESCRIPT));
    pre.pos = *pos;

    anm = &d16e_dword_800C35C8;
    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);
}

void AN_Smoke_800CE5C8(SVECTOR *pos, SVECTOR *speed, int index, int script)
{
    PRESCRIPT  pre;
    ANIMATION *anm;

    memset(&pre, 0, sizeof(PRESCRIPT));
    pre.pos = *pos;
    pre.speed = *speed;
    pre.scr_num = script;

    anm = NULL;

    switch (index)
    {
    case 0:
        anm = &d16e_dword_800C3638;
        break;

    case 1:
        anm = &d16e_dword_800C3654;
        break;
    }

    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);
}

void AN_Smoke_800CE6A4(SVECTOR *pos)
{
    PRESCRIPT  pre;
    ANIMATION *anm;

    memset(&pre, 0, sizeof(PRESCRIPT));
    pre.pos = *pos;
    pre.speed = DG_ZeroVector;
    pre.scr_num = 0;
    pre.s_anim = 0;

    anm = &d16e_dword_800C3670;
    anm->pre_script = &pre;

    NewAnime(NULL, 0, anm);
}
